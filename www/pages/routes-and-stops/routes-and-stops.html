<ion-view view-title="Routes and Stops">
  <ion-nav-buttons side="secondary">
    <button class="button button-icon icon ion-ios-search-strong" ng-click="rs.showFilterBar()"></button>
  </ion-nav-buttons>
  <div class="bar bar-subheader">
    <div class="button-bar">
      <button ng-class="rs.currentDisplay === 0 ? 'button button-positive' : 'button  button-outline button-positive'" ng-click="rs.display(0)">Routes</button>
      <button ng-class="rs.currentDisplay === 1 ? 'button button-positive' : 'button  button-outline button-positive'" ng-click="rs.display(1)">Stops</button>
    </div>
  </div>
  <ion-content class="has-subheader" direction="y" scrollbar-y="false">
    <ion-list>
      <ion-item ng-show="rs.currentDisplay === 0" class="item item-icon-left item-icon-right" ng-repeat="route in rs.routesDisp" href="#app/routes/{{route.RouteId}}">
        <i class="icon ion-android-bus"></i>
        <span style="color: #{{route.Color}}; font-size: 125%; font-weight: bold; margin-left: 10px">{{route.RouteAbbreviation}}</span>
        <p>{{route.LongName}}</p>
        <i ng-show="rs._.contains(rs._.pluck(rs.favoriteRoutes, 'RouteId'), route.RouteId)" class="icon ion-ios-heart"></i>
      </ion-item>
      <ion-item ng-show="rs.currentDisplay === 1" class="item item-icon-left item-icon-right" ng-repeat="stop in rs.stopsDisp | limitTo: 40" href="#/app/stops/{{stop.StopId}}">
        <i class="icon ion-ios-location" style="margin-right: 10px"></i>
        {{stop.Name}} ({{stop.StopId}})
        <i ng-show="rs._.contains(rs._.pluck(rs.favoriteStops, 'StopId'), stop.StopId)" class="icon ion-ios-heart"></i>
      </ion-item>
      <div ng-if="rs.currentDisplay === 1 && rs.stopsDisp.length >= 40" class="item item-divider item-positive item-text-wrap">Too many stops to show. Please search above for your stop by name or ID.</div>
    </ion-list>
    <div ng-if="!rs.routesDisp.length && !rs.stopsDisp.length" class="bar bar-assertive title">
        <h1 class="title">No results found.</h1>
    </div>
  </ion-content>
</ion-view>
