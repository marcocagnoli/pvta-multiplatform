<ion-view view-title="My Buses">
  <ion-content>
    <div class = "item item-divider item-energized item-text-wrap" style = "text-align:left;">
      <b>Welcome to PVTrAck! (Pre-Release)</b> <br> Please send feedback to
      <a style="color: white" href = "mailto: programmers@umass.edu">programmers@admin.umass.edu</a>!
    </div>
    <div class="item item-divider item-positive item-text-wrap">Your Routes</div>
    <ion-list class="list" show-delete="false" can-swipe="true">
      <ion-item class="item" ng-repeat="route in mb.routes" href="#/app/routes/{{route.RouteId}}">
        <ion-option-button class="button-assertive icon ion-trash-a" ng-click="mb.removeRoute(route, $index)"></ion-option-button>
        <div class="row">
          <span class="col-5 item-text-wrap" style="color: #{{route.Color}}; font-size: 150%; font-weight: bold;">
            {{route.RouteAbbreviation}}
          </span>
          <span class="col item-text-wrap" style="padding-left: 20px;">
            {{route.LongName}}
          </span>
        </div>
      </ion-item>
      <a class="item item-icon-left item-text-wrap" href="#/app/routes-and-stops/0">
        <i class="icon ion-ios-plus-outline"></i>
        Add route
      </a>
      <div class="item item-divider item-positive">Your Stops</div>
      <ion-item class="item item-text-wrap" ng-repeat="stop in mb.stops" href="#/app/stops/{{stop.StopId}}">
        <ion-option-button class="button-assertive icon ion-trash-a" ng-click="mb.removeStop(stop, $index)"></ion-option-button>
        <div class="item-icon-left">
          <i class="icon ion-ios-location" style="margin-right: 10px"></i>
          {{stop.Name}} ({{stop.StopId}})
        </div>
      </ion-item>
      <a class="item item-icon-left item-text-wrap" href="#/app/routes-and-stops/1">
        <i class="icon ion-ios-plus-outline"></i>
        Add stop
      </a>
      <div class="item item-divider item-positive">Your Trips</div>
      <a class="item item-icon-left item-text-wrap" href="#/app/plan-trip">
        <i class="icon ion-ios-plus-outline"></i>
        Add trip
      </a>
      <ion-item class="item item-text-wrap" ng-repeat="trip in mb.trips track by $index" ng-click="mb.openTrip($index)">
      <ion-option-button class="button-assertive icon ion-trash-a" ng-click="mb.removeTrip($index)"></ion-option-button>
      <div class="item-icon-left">
              <i class="icon ion-map" style="margin-right: 10px"></i>
              {{trip.name}}
      </div>
      </ion-item>
      <div ng-if="mb.messages.length > 0">
        <div class="item item-divider item-assertive">Active Alerts For Your Routes</div>
        <ion-item class="item" ng-repeat="message in mb.messages">
          <div class="item-icon-left item-text-wrap">
            <i class="icon ion-android-alert" style="margin-right: 10px"></i>
            {{message.Message}}
          </div>
        </ion-item>
      </div>
    </ion-list>
  </ion-content>
</ion-view>
